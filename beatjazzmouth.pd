#N canvas 318 121 665 466 10;
#X obj 137 107 vsl 20 100 0 127 0 0 empty empty empty 0 -9 0 10 -4032
-1 -1 0 1;
#X obj 115 107 vsl 20 100 0 127 0 0 empty empty empty 0 -9 0 10 -159808
-1 -1 0 1;
#X text 100 224 Breath;
#N canvas 502 89 205 210 mpx5100dp 0;
#X floatatom 102 115 5 0 0 0 - - -;
#X obj 79 53 * 1024;
#X floatatom 143 153 5 0 0 0 - - -;
#X obj 81 29 inlet;
#X obj 89 188 outlet;
#X floatatom 103 75 5 0 0 0 - - -;
#X obj 80 75 int;
#X obj 79 152 clip 0 127;
#X floatatom 142 133 5 0 0 0 - - -;
#X obj 79 115 * 6;
#X floatatom 120 53 5 0 0 0 - - -;
#X floatatom 108 95 5 0 0 0 - - -;
#X obj 120 133 + 7;
#X floatatom 117 29 5 0 0 0 - - -;
#X obj 79 95 - 42;
#X obj 88 170 s breath;
#X connect 1 0 6 0;
#X connect 1 0 10 0;
#X connect 3 0 1 0;
#X connect 3 0 13 0;
#X connect 6 0 5 0;
#X connect 6 0 14 0;
#X connect 7 0 2 0;
#X connect 7 0 4 0;
#X connect 7 0 15 0;
#X connect 9 0 0 0;
#X connect 9 0 7 0;
#X connect 12 0 8 0;
#X connect 12 0 7 0;
#X connect 14 0 9 0;
#X connect 14 0 11 0;
#X restore -115 424 pd mpx5100dp calibration;
#N canvas 328 209 501 444 lip 0;
#X obj 176 312 bendout;
#X floatatom 147 75 5 0 0 0 - - -;
#X floatatom 124 250 5 0 0 0 - - -;
#X obj 124 268 ctlout 18;
#X obj 124 -2 inlet;
#X obj 124 36 * 256;
#X obj 124 75 int;
#X obj 343 380 s lip;
#X obj 343 359 change;
#X obj 284 201 sel 62 63 64 65 66 67 68;
#X msg 254 248 0;
#X msg 283 248 0;
#X msg 310 248 0;
#X msg 337 248 0;
#X msg 366 247 0;
#X msg 396 247 0;
#X msg 425 247 0;
#X floatatom 124 209 5 0 0 0 - - -;
#X obj 123 312 xbendout;
#X obj 156 358 outlet;
#X obj 158 250 r pgmout;
#X obj 123 330 midiout;
#X floatatom 172 330 5 0 0 0 - - -;
#X obj 179 92 r xpitchswitch;
#X obj 123 93 spigot;
#X floatatom 167 93 1 0 0 0 - - -;
#X obj 167 112 sel 0 1;
#X msg 167 130 64;
#X msg 196 130 64;
#X text 267 93 Pitch Bend x-axis/switch;
#X obj 124 230 int;
#X floatatom 211 250 5 0 0 0 - - -;
#X obj 81 294 * 8192;
#X obj 124 55 + 10;
#X obj 34 225 * 2;
#X floatatom 63 222 5 0 0 0 - - -;
#X obj 40 251 -;
#X floatatom 38 170 5 0 0 0 - - -;
#X floatatom 62 273 5 0 0 0 - - -;
#X obj 18 336 average 2;
#X obj 123 157 clip 40 90;
#X connect 2 0 19 0;
#X connect 2 0 0 0;
#X connect 2 0 3 0;
#X connect 2 0 32 0;
#X connect 5 0 33 0;
#X connect 6 0 1 0;
#X connect 6 0 24 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 9 2 12 0;
#X connect 9 3 13 0;
#X connect 9 4 14 0;
#X connect 9 5 15 0;
#X connect 9 6 16 0;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 15 0 8 0;
#X connect 16 0 8 0;
#X connect 17 0 30 0;
#X connect 18 0 22 0;
#X connect 18 0 21 0;
#X connect 20 0 0 1;
#X connect 20 0 3 2;
#X connect 20 0 18 1;
#X connect 20 0 21 1;
#X connect 20 0 31 0;
#X connect 23 0 25 0;
#X connect 24 0 40 0;
#X connect 25 0 24 1;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 26 1 28 0;
#X connect 27 0 40 0;
#X connect 28 0 40 0;
#X connect 30 0 2 0;
#X connect 32 0 18 0;
#X connect 33 0 6 0;
#X connect 34 0 36 0;
#X connect 35 0 36 1;
#X connect 36 0 39 0;
#X connect 37 0 34 1;
#X connect 39 0 38 0;
#X connect 39 0 40 0;
#X connect 40 0 9 0;
#X connect 40 0 17 0;
#X restore 201 115 pd lip calibration;
#N canvas 206 78 818 541 boehmsys 0;
#X obj 284 39 inlet;
#X obj 3 48 inlet;
#X text 84 28 note number;
#X text 0 32 breath;
#X floatatom 61 220 5 0 0 0 - - -;
#X floatatom -22 220 5 0 0 0 - - -;
#X obj 70 189 f \$1;
#X obj -90 247 ctlout 2;
#X obj 3 72 > 0;
#X obj 39 275 int;
#X obj -22 358 pack f f;
#X obj 3 189 sel 1 0;
#X obj -22 496 noteout;
#X msg 61 364 \$1 0;
#X obj -22 410 flush;
#X obj 3 95 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 36 385 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 39 48 5 0 0 0 - - -;
#X floatatom 39 310 5 0 0 0 - - -;
#X obj 24 245 delay;
#X obj 23 330 moses 1;
#N canvas 659 176 236 193 bk 0;
#X obj 99 39 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 3
;
#X obj 88 113 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
0.596351;
#X obj 62 44 * 3;
#X floatatom 27 51 5 0 0 0 - - -;
#X obj 59 9 inlet;
#X obj 91 164 outlet;
#X obj 70 155 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 90 137 1;
#X floatatom 38 119 5 0 0 0 - - -;
#X obj 44 84 threshold 3 0 3 0;
#X connect 1 0 7 0;
#X connect 2 0 0 0;
#X connect 2 0 3 0;
#X connect 2 0 9 0;
#X connect 4 0 2 0;
#X connect 7 0 5 0;
#X connect 9 0 1 0;
#X connect 9 0 8 0;
#X connect 9 1 1 0;
#X restore 3 131 pd bk;
#X obj -55 163 s breath;
#X obj -87 198 spigot;
#X obj -93 221 average 2;
#X floatatom 166 68 5 0 0 0 - - -;
#X text 198 67 program change;
#X floatatom 456 178 5 0 0 0 - - -;
#X obj 167 86 pgmout;
#X obj 143 191 bendout;
#X obj 424 197 +;
#X obj 210 86 s pgm2chnl;
#X obj -27 439 pack f f f;
#X obj -18 467 sustain;
#X obj 487 275 r cc2;
#X obj 532 320 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
30;
#X obj 487 296 select 1;
#X obj 532 340 spigot;
#X obj 458 154 r transpose;
#X obj 532 365 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
9;
#X obj 456 201 s transdisp;
#X floatatom -59 274 5 0 0 0 - - -;
#X obj -44 517 s controllernotes;
#X obj 197 138 s cc18 pgm2chnl;
#X obj 34 493 print altnote;
#X obj 167 47 r pgmout;
#X obj 565 295 == 8;
#X obj -95 274 s cc2;
#X obj 96 421 s noteoff;
#X text 73 451 comment;
#X obj 424 274 r lje;
#X obj 396 443 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 419 348 t b b;
#X obj 419 387 f;
#X obj 419 410 + 1;
#X msg 446 370 1;
#X obj 419 431 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 426 325 delay 50;
#X obj 424 298 sel 1;
#X floatatom 398 462 5 0 0 0 - - -;
#X obj 352 462 spigot;
#X obj 351 486 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 350 50 sustain can be toggled on/off with the left-west joystick/position
run the [flush]into [sustain] then [sustain] into [noteout] with the
channel going there also. get rid of the [pack f f f ]. backup before
doing any of this;
#X obj 452 453 s toscsustain;
#X obj 82 73 == 7;
#X obj 167 106 t f f f f f f f;
#X obj 82 99 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 275 453 print;
#X obj 160 327 spigot;
#X obj 122 98 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 120 124 spigot;
#X msg 82 123 100;
#X obj 12 161 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 397 138 r note;
#X connect 0 0 30 0;
#X connect 1 0 8 0;
#X connect 1 0 17 0;
#X connect 1 0 23 0;
#X connect 4 0 13 0;
#X connect 4 0 69 0;
#X connect 5 0 19 0;
#X connect 5 0 10 0;
#X connect 6 0 4 0;
#X connect 6 0 5 0;
#X connect 8 0 15 0;
#X connect 9 0 18 0;
#X connect 9 0 20 0;
#X connect 10 0 14 0;
#X connect 11 0 5 0;
#X connect 11 1 4 0;
#X connect 13 0 16 0;
#X connect 13 0 48 0;
#X connect 14 0 32 0;
#X connect 14 0 33 0;
#X connect 14 1 32 1;
#X connect 14 1 33 1;
#X connect 15 0 60 0;
#X connect 15 0 21 0;
#X connect 15 0 23 1;
#X connect 16 0 14 0;
#X connect 17 0 9 0;
#X connect 19 0 9 0;
#X connect 20 0 10 1;
#X connect 20 1 10 1;
#X connect 21 0 11 0;
#X connect 21 0 72 0;
#X connect 23 0 24 0;
#X connect 24 0 41 0;
#X connect 24 0 47 0;
#X connect 24 0 7 0;
#X connect 25 0 28 0;
#X connect 25 0 31 0;
#X connect 25 0 65 0;
#X connect 27 0 40 0;
#X connect 27 0 30 1;
#X connect 30 0 6 0;
#X connect 32 0 42 0;
#X connect 32 0 67 0;
#X connect 33 0 12 0;
#X connect 33 1 12 1;
#X connect 34 0 36 0;
#X connect 35 0 37 0;
#X connect 36 1 35 0;
#X connect 37 0 39 0;
#X connect 38 0 27 0;
#X connect 45 0 25 0;
#X connect 46 0 37 1;
#X connect 50 0 58 0;
#X connect 51 0 59 0;
#X connect 51 0 60 1;
#X connect 51 0 63 0;
#X connect 52 0 53 0;
#X connect 52 1 55 0;
#X connect 53 0 54 0;
#X connect 54 0 56 0;
#X connect 55 0 53 1;
#X connect 56 0 51 0;
#X connect 57 0 52 0;
#X connect 58 0 57 0;
#X connect 60 0 61 0;
#X connect 61 0 33 2;
#X connect 64 0 66 0;
#X connect 65 1 29 1;
#X connect 65 2 43 0;
#X connect 65 3 7 2;
#X connect 65 4 12 2;
#X connect 65 5 46 0;
#X connect 65 6 64 0;
#X connect 66 0 11 0;
#X connect 66 0 71 0;
#X connect 66 0 70 1;
#X connect 69 0 70 0;
#X connect 70 0 71 0;
#X connect 71 0 9 0;
#X connect 73 0 30 0;
#X restore -78 322 pd boehmsys;
#X floatatom 136 211 5 0 0 0 - - -;
#X floatatom 102 211 5 0 0 0 - - -;
#X text 146 224 Lip;
#X text 156 147 ----;
#X obj 111 83 bjcmouth;
#X text 35 395 NOTE \; I used the wrong breath sensor for this project
and never replaced it. this calibration abstraction allows it to work.
if you have a more suitable breath sensor \, you can either change
or disable this;
#X text 204 133 <<<<i am at the time of the publishing of this project
\, still devising a decent mouthpiece that will make use of proper
pitch modulation.;
#X text -5 318 this is the magic patch. this is where sensor data is
turned into note messages. investigation is advised;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 3 0 5 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 10 0 3 0;
#X connect 10 1 4 0;
#X coords 0 -1 1 1 70 140 2 100 100;
